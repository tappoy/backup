# Backup config file.
#
# This file format is TSV. (Tab Separated Values)
# If the first character of a line is '#', it becomes a comment.
# Blank lines are ignored.
#
# Columns are:
#   - name   Setting name. It becomes a part of the container name.
#   - mode   Backup mode.
#   - src    Backup source.
#
# Modes are:
#   - data:  Tar gz the target directory and keep 14 recent backups.
#            The backup file name format is YYYY-MM-DD.tgz.
#            If the latest backups has the same hash, that backup is skipped.
#   - log:   Recursively gzip compresses files in the target directory
#            and keeps all backups. This backup never expires.
#            If a file with the same name already exists in the container,
#            it is skipped.
#    If the container has a file with the same name,
#    it will be overwritten in either mode.
#
# Destination settings should be managed in the vault.
# Container names always begin with "backup/$HOST"
#
# Container and Object names example:
#
#   $HOST: host1
#
#   Config:
#      backup	data	/etc/backup
#      auth	data	/srv/auth
#      auth	log	/var/log/auth
#
#   Files:
#      /etc/backup/backup.config
#      /srv/auth/db/users.db
#      /srv/auth/db/session.db
#      /srv/auth/config/auth.config
#      /var/log/auth/info.log
#      /var/log/auth/error.log
#      /var/log/auth/rotate/2024-04-30.info.log
#      /var/log/auth/rotate/2024-05-02.info.log
#
#   Containers and Objects:
#      Containers                                 Objects
#      backup/host1/backup/data/etc/backup        YYYY-MM-DD.tgz
#      backup/host1/auth/data/srv/auth            YYYY-MM-DD.tgz
#      backup/host1/auth/log/var/log/auth         info.log.gz
#      backup/host1/auth/log/var/log/auth         error.log.gz
#      backup/host1/auth/log/var/log/auth/rotate  2024-04-30.info.log.gz
#      backup/host1/auth/log/var/log/auth/rotate  2024-05-02.info.log.gz

# NAME	MODE	SRC
test-vault	data	test-data/srv/vault
test-vault	log	test-data/var/log/vault
test-config	data	test-data/config

#auth	data	/srv/auth
#auth	log	/var/log/auth/backup
